---
title: 클러스터 설계
description: CKA 자격증 대비 및 실무를 위한 쿠버네티스(Kubernetes) 클러스터 설계 가이드를 확인하세요. 학습용부터 프로덕션 환경까지 목적별 구성 방법, 노드 규모 산정, 스토리지 및 인프라 고려 사항 등 핵심 아키텍처 설계 노하우를 정리했습니다.
keywords:
  - 쿠버네티스 클러스터 설계
---
---
:::tip
클러스터 설계 및 설치 섹션 전체는 시험을 위해 외워야할 내용은 없다. (docs에 나와있기 때문)
:::

## 클러스터 설계
### 방향성 확립

1. 목적
	- 학습
	- 개발/테스트
	- 프로덕션
2. 환경
	- Cloud Managed Service (EKS, GKE 등)
	- 온프레미스
3. 워크로드, 규모
	- 애플리케이션의 종류 (웹, 빅데이터, AI 등)
	- 애플리케이션의 규모
4. 트래픽
	- 지속적인 트래픽
	- 간헐적인 폭증

### 목적별 클러스터 구성 방법

1. 학습용
	- `Minikube` 또는 `kubeadm`을 사용한 단일 노드 클러스터 (로컬 VM 또는 클라우드)
2. 개발 및 테스트용
	- 단일 마스터 노드 + 다중 워커 노드
	- 도구: `kubeadm`, GKE, AKS 등
3. 프로덕션용
	- 고가용성(HA) 구성 필수: 다중 마스터 노드(Multi-master) 권장
	- 도구: `kubeadm`, GKE, AKS 등

### 클러스터 규모 및 리소스

- 최대 지원 규모
	- 노드: 최대 5000개
	- `Pod`: 최대 150,000개 (노드 당 최대 100개)
	- 컨테이너: 전체 300,000개
- 리소스 산정
	- 클라우드(GCP, AWS 등)은 노드 수에 따라 적절한 마스터 노드 인스턴스 크기를 자동으로 선택해준다.
	- 온프레미스 구축 시에는 위와같은 클라우드 제공업체의 인스턴스 크기 표(노드 갯수에 따른 마스터 노드 스펙)를 참고하여 마스터 노드 스펙을 정하는 것이 좋다.

### 스토리지 및 인프라

- 스토리지
	- 고성능 워크로드를 운영하는 경우: Concurrent한 스토리지 접근을 위해 SSD 기반 스토리지 사용
	- 공유 볼륨(`Pod`의 `PV` 등의 목적으로)으로 사용하기 위한 네트워크 기반 스토리지 필요
		- 정적 프로비저닝을 하든 `StorageClass`로 동적 프로비저닝을 하든..
- 인프라
	- 물리 서버(Bare Metal) 또는 VM 모두 상관 없음
	- 64비트 리눅스 기반 OS 사용해야함

### 노드 역할

- 마스터 노드
	- Control Plane 컴포넌트(`kube-apiserver`, `etcd` 등) 실행
	- 프로덕션 환경에서는 마스터 노드에 워크로드를 배치하지 않는 것이 좋음
		- 몰랐는데, 마스터 노드에 기본적으로 워크로드가 배치되지 않는 `taint`를 적용 시켜놓는 것이 `kubeadm`이 해주는 것이었다.
	- 대규모 클러스터의 경우 `etcd`를 마스터 노드에서 분리하여 별도의 클러스터로 구성하기도 함
- 워커 노드
	- 실제 애플리케이션 워크로드 실행

---
## 레퍼런스

- Udemy - Certified Kubernetes Administrator (CKA) with Practice Tests (Mumshad)